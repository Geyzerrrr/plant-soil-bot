const fetch = require('node-fetch');

// –¢–æ–∫–µ–Ω –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Railway
const BOT_TOKEN = process.env.BOT_TOKEN || 'YOUR_BOT_TOKEN_HERE';
const TELEGRAM_API = `https://api.telegram.org/bot${BOT_TOKEN}`;

// –ü–û–õ–ù–ê–Ø –ë–ê–ó–ê –†–ï–¶–ï–ü–¢–û–í –î–õ–Ø –í–°–ï–• –°–ï–ú–ï–ô–°–¢–í
const SOIL_RECIPES = {
  // –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ–º–µ–π—Å—Ç–≤–∞
  "–û—Ä—Ö–∏–¥–Ω—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–§–∞–ª–µ–Ω–æ–ø—Å–∏—Å", "–í–∞–Ω–¥–∞", "–î–µ–Ω–¥—Ä–æ–±–∏—É–º", "–¶–∏–º–±–∏–¥–∏—É–º", "–ü–∞—Ñ–∏–æ–ø–µ–¥–∏–ª—É–º", "–õ—É–¥–∏–∑–∏—è", "–û–¥–æ–Ω—Ç–æ–≥–ª–æ—Å—Å—É–º"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ö–æ—Ä–∞ —Å–æ—Å–Ω—ã —Å—Ä–µ–¥–Ω–µ–π —Ñ—Ä–∞–∫—Ü–∏–∏", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ú–æ—Ö —Å—Ñ–∞–≥–Ω—É–º", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î—Ä–µ–≤–µ—Å–Ω—ã–π —É–≥–æ–ª—å", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Ä–ª–∏—Ç/–∫–µ—Ä–∞–º–∑–∏—Ç", "–ø—Ä–æ—Ü–µ–Ω—Ç": 10}
    ],
    "—Å–æ–≤–µ—Ç—ã": [
      "üå± –î—Ä–µ–Ω–∞–∂–Ω—ã–π —Å–ª–æ–π 3-5 —Å–º –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω",
      "üíß –ü–æ–ª–∏–≤ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Å—ã—Ö–∞–Ω–∏—è –∫–æ—Ä—ã",
      "‚òÄÔ∏è –Ø—Ä–∫–∏–π —Ä–∞—Å—Å–µ—è–Ω–Ω—ã–π —Å–≤–µ—Ç, –±–µ–∑ –ø—Ä—è–º–æ–≥–æ —Å–æ–ª–Ω—Ü–∞",
      "üîÑ –ü–µ—Ä–µ—Å–∞–¥–∫–∞ –∫–∞–∂–¥—ã–µ 2-3 –≥–æ–¥–∞"
    ]
  },
  
  "–ê—Ä–æ–∏–¥–Ω—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ú–æ–Ω—Å—Ç–µ—Ä–∞", "–§–∏–ª–æ–¥–µ–Ω–¥—Ä–æ–Ω", "–ê–ª–æ–∫–∞–∑–∏—è", "–ê–Ω—Ç—É—Ä–∏—É–º", "–ó–∞–º–∏–æ–∫—É–ª—å–∫–∞—Å", "–°–ø–∞—Ç–∏—Ñ–∏–ª–ª—É–º", "–î–∏—Ñ—Ñ–µ–Ω–±–∞—Ö–∏—è", "–ê–≥–ª–∞–æ–Ω–µ–º–∞", "–≠–ø–∏–ø—Ä–µ–º–Ω—É–º", "–°—Ü–∏–Ω–¥–∞–ø—Ç—É—Å", "–ö–∞–ª–ª–∞"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≥—Ä—É–Ω—Ç", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ö–æ–∫–æ—Å–æ–≤—ã–π —Å—É–±—Å—Ç—Ä–∞—Ç", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Ä–ª–∏—Ç", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î—Ä–µ–≤–µ—Å–Ω—ã–π —É–≥–æ–ª—å", "–ø—Ä–æ—Ü–µ–Ω—Ç": 10},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ö–æ—Ä–∞ —Å–æ—Å–Ω—ã", "–ø—Ä–æ—Ü–µ–Ω—Ç": 10}
    ],
    "—Å–æ–≤–µ—Ç—ã": [
      "üå°Ô∏è –õ—é–±—è—Ç —Ç–µ–ø–ª–æ (20-25¬∞C)",
      "üí¶ –í—ã—Å–æ–∫–∞—è –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤–æ–∑–¥—É—Ö–∞",
      "üö´ –ë–æ—è—Ç—Å—è —Å–∫–≤–æ–∑–Ω—è–∫–æ–≤",
      "‚úÇÔ∏è –†–µ–≥—É–ª—è—Ä–Ω–∞—è –æ–±—Ä–µ–∑–∫–∞ –¥–ª—è –ø—ã—à–Ω–æ—Å—Ç–∏"
    ]
  },
  
  "–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ö–∞–∫—Ç—É—Å—ã", "–û–ø—É–Ω—Ü–∏—è", "–≠–ø–∏—Ñ–∏–ª–ª—É–º", "–®–ª—é–º–±–µ—Ä–≥–µ—Ä–∞", "–ì–∏–º–Ω–æ–∫–∞–ª–∏—Ü–∏—É–º", "–•–∞—Ç–∏–æ—Ä–∞", "–¢—Ä–∏—Ö–æ—Ü–µ—Ä–µ—É—Å", "–ü–µ—Ä–µ—Å–∫–∏—è", "–ì–∏–ª–æ—Ü–µ—Ä–µ—É—Å"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ö—Ä—É–ø–Ω—ã–π –ø–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ú–µ–ª–∫–∏–π –≥—Ä–∞–≤–∏–π", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î—Ä–µ–≤–µ—Å–Ω—ã–π —É–≥–æ–ª—å", "–ø—Ä–æ—Ü–µ–Ω—Ç": 10},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ö–∏—Ä–ø–∏—á–Ω–∞—è –∫—Ä–æ—à–∫–∞", "–ø—Ä–æ—Ü–µ–Ω—Ç": 10}
    ],
    "—Å–æ–≤–µ—Ç—ã": [
      "‚òÄÔ∏è –ú–∞–∫—Å–∏–º—É–º —Å–≤–µ—Ç–∞",
      "üíß –ü–æ–ª–∏–≤ —Ä–µ–¥–∫–∏–π: –ª–µ—Ç–æ–º 1 —Ä–∞–∑ –≤ 1-2 –Ω–µ–¥–µ–ª–∏, –∑–∏–º–æ–π 1 —Ä–∞–∑ –≤ –º–µ—Å—è—Ü",
      "‚ùÑÔ∏è –ó–∏–º–æ–≤–∫–∞ –ø—Ä–∏ +10-15¬∞C",
      "üîÑ –ü–µ—Ä–µ—Å–∞–¥–∫–∞ –≤–µ—Å–Ω–æ–π"
    ]
  },
  
  "–¢–æ–ª—Å—Ç—è–Ω–∫–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ö—Ä–∞—Å—Å—É–ª–∞", "–ö–∞–ª–∞–Ω—Ö–æ—ç", "–≠—Ö–µ–≤–µ—Ä–∏—è", "–°–µ–¥—É–º", "–ê–∏—Ö—Ä–∏–∑–æ–Ω", "–≠–æ–Ω–∏—É–º", "–ü–∞—Ö–∏—Ñ–∏—Ç—É–º", "–°—É–∫–∫—É–ª–µ–Ω—Ç—ã"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≥—Ä—É–Ω—Ç", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Ä–ª–∏—Ç/–≤–µ—Ä–º–∏–∫—É–ª–∏—Ç", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î—Ä–µ–≤–µ—Å–Ω—ã–π —É–≥–æ–ª—å", "–ø—Ä–æ—Ü–µ–Ω—Ç": 10}
    ],
    "—Å–æ–≤–µ—Ç—ã": [
      "üíß –ü–æ–ª–∏–≤ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å—É—Ö–æ–π –ø–æ—á–≤–µ",
      "‚òÄÔ∏è –Ø—Ä–∫–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ",
      "üö´ –ù–µ –æ–ø—Ä—ã—Å–∫–∏–≤–∞—Ç—å –ª–∏—Å—Ç—å—è",
      "üå°Ô∏è –ö–æ–º–Ω–∞—Ç–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"
    ]
  },
  
  "–ú–∞–ª—å–≤–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ì–∏–±–∏—Å–∫—É—Å", "–ê–±—É—Ç–∏–ª–æ–Ω", "–ü–∞—Ö–∏—Ä–∞"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Ä–µ–≥–Ω–æ–π", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 10}
    ]
  },
  
  "–ü–∞–ª—å–º–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–í–∞—à–∏–Ω–≥—Ç–æ–Ω–∏—è", "–§–∏–Ω–∏–∫", "–ö–∞–º–µ–¥–æ—Ä–µ—è", "–õ–∏—Å–∏–π —Ö–≤–æ—Å—Ç"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Ä–µ–≥–Ω–æ–π", "–ø—Ä–æ—Ü–µ–Ω—Ç": 15},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 10}
    ]
  },
  
  "–ë–µ–≥–æ–Ω–∏–µ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ë–µ–≥–æ–Ω–∏—è –†–µ–∫—Å", "–ë–µ–≥–æ–Ω–∏—è –ú–∞–∫—É–ª–∞—Ç–∞", "–ë–µ–≥–æ–Ω–∏—è –ö–æ—Ä–∞–ª–ª–æ–≤–∞—è", "–ë–µ–≥–æ–Ω–∏—è –ë–∞—É—ç—Ä–∞"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–¢–æ—Ä—Ñ", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25}
    ]
  },
  
  "–°–ø–∞—Ä–∂–µ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–î—Ä–∞—Ü–µ–Ω–∞", "–ê—Å–ø–∏–¥–∞—Å—Ç—Ä–∞", "–°–∞–Ω—Å–µ–≤–∏–µ—Ä–∏—è", "–ù–æ–ª–∏–Ω–∞", "–•–ª–æ—Ä–æ—Ñ–∏—Ç—É–º", "–Æ–∫–∫–∞", "–ê–≥–∞–≤–∞"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30}
    ]
  },
  
  "–¢—É—Ç–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–§–∏–∫—É—Å –ë–µ–Ω–¥–∂–∞–º–∏–Ω–∞", "–§–∏–∫—É—Å –ö–∞—É—á—É–∫–æ–Ω–æ—Å–Ω—ã–π", "–§–∏–∫—É—Å –ü—É–º–∏–ª–∞", "–§–∏–∫—É—Å –ë–µ–Ω–≥–∞–ª—å—Å–∫–∏–π"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20}
    ]
  },
  
  "–ú–∞—Ä–∞–Ω—Ç–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ö–∞–ª–∞—Ç–µ—è", "–ö—Ç–µ–Ω–∞–Ω—Ç–∞", "–ú–∞—Ä–∞–Ω—Ç–∞", "–°—Ç—Ä–æ–º–∞–Ω—Ç–∞"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–¢–æ—Ä—Ñ", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25}
    ]
  },
  
  "–ö—É—Ç—Ä–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ê–¥–µ–Ω–∏—É–º", "–û–ª–µ–∞–Ω–¥—Ä", "–ü–ª—é–º–µ—Ä–∏—è", "–ú–∞–Ω–¥–µ–≤–∏–ª–ª–∞", "–•–æ–π—è", "–°–∏–Ω–∞–¥–µ–Ω–∏—É–º"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≥—Ä—É–Ω—Ç", "–ø—Ä–æ—Ü–µ–Ω—Ç": 60},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Ä–ª–∏—Ç", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20}
    ]
  },
  
  "–ü–∞—Å–ª–µ–Ω–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ë—Ä—É–≥–º–∞–Ω—Å–∏—è", "–ü–∞—Å–ª–µ–Ω", "–ü–µ–ø–∏–Ω–æ", "–°–æ–ª–∞–Ω–¥—Ä–∞", "–¢–∞–º–∞—Ä–∏–ª–ª–æ"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 60},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Ä–µ–≥–Ω–æ–π", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20}
    ]
  },
  
  "–ì–µ—Ä–∞–Ω–∏–µ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ü–µ–ª–∞—Ä–≥–æ–Ω–∏—è", "–ì–µ—Ä–∞–Ω—å"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Ä–µ–≥–Ω–æ–π", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25}
    ]
  },
  
  "–ú–æ–ª–æ—á–∞–π–Ω—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ú–æ–ª–æ—á–∞–π", "–ü–µ–¥–∏–ª–∞–Ω—Ç—É—Å", "–ö—Ä–æ—Ç–æ–Ω", "–ö–æ–¥–∏–µ—É–º"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20}
    ],
    "—Å–æ–≤–µ—Ç—ã": [
      "‚ö†Ô∏è –°–æ–∫ –º–æ–ª–æ—á–∞–π–Ω—ã—Ö —è–¥–æ–≤–∏—Ç - —Ä–∞–±–æ—Ç–∞–π—Ç–µ –≤ –ø–µ—Ä—á–∞—Ç–∫–∞—Ö",
      "‚òÄÔ∏è –Ø—Ä–∫–∏–π —Å–≤–µ—Ç –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–∫—Ä–∞—Å–∫–∏",
      "üíß –£–º–µ—Ä–µ–Ω–Ω—ã–π –ø–æ–ª–∏–≤",
      "üå°Ô∏è –¢–µ–ø–ª–æ–ª—é–±–∏–≤—ã"
    ]
  },
  
  "–ê–∫–∞–Ω—Ç–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–§–∏—Ç—Ç–æ–Ω–∏—è", "–¢—É–Ω–±–µ—Ä–≥–∏—è", "–ö—Ä–æ—Å–∞–Ω–¥—Ä–∞"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–¢–æ—Ä—Ñ", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25}
    ]
  },
  
  "–ö–æ–º–º–µ–ª–∏–Ω–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–¢—Ä–∞–¥–µ—Å–∫–∞–Ω—Ü–∏—è", "–ö–∞–ª–ª–∏–∑–∏—è", "–†–µ–æ", "–ó–µ–±—Ä–∏–Ω–∞", "–ú—É—Ä–¥–∞–Ω–Ω–∏—è"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20}
    ]
  },
  
  "–ê—Å—Ñ–æ–¥–µ–ª–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ê–ª–æ—ç", "–ì–∞—Å—Ç–µ—Ä–∏—è", "–•–∞–≤–æ—Ä—Ç–∏—è"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30}
    ]
  },
  
  "–ë—Ä–æ–º–µ–ª–∏–µ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ê–Ω–∞–Ω–∞—Å", "–¢–∏–ª–ª–∞–Ω–¥—Å–∏—è", "–ë–∏–ª—å–±–µ—Ä–≥–∏—è", "–ì—É–∑–º–∞–Ω–∏—è"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ö–æ—Ä–∞ —Å–æ—Å–Ω—ã", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ú–æ—Ö —Å—Ñ–∞–≥–Ω—É–º", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î—Ä–µ–≤–µ—Å–Ω—ã–π —É–≥–æ–ª—å", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20}
    ]
  },
  
  "–†—É—Ç–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–õ–∏–º–æ–Ω", "–ö–∞–ª–∞–º–æ–Ω–¥–∏–Ω", "–ú—É—Ä—Ä–∞–π—è", "–õ–∞–π–º", "–ü–µ—Ä–µ—Ü —Å—ã—á—É–∞–Ω—Å–∫–∏–π"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Ä–µ–≥–Ω–æ–π", "–ø—Ä–æ—Ü–µ–Ω—Ç": 15},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 10}
    ]
  },
  
  "–Ø—Å–Ω–æ—Ç–∫–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ö–æ–ª–µ—É—Å", "–†–æ–∑–º–∞—Ä–∏–Ω", "–ë–∞–∑–∏–ª–∏–∫", "–®–∞–ª—Ñ–µ–π", "–ú—è—Ç–∞", "–ö—Ä–∏—à–Ω–∞ —Ç—É–ª–∞—Å–∏", "–ö–ª–µ—Ä–æ–¥–µ–Ω–¥—Ä—É–º"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 40},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Ä–µ–≥–Ω–æ–π", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30}
    ]
  },
  
  "–ì–µ—Å–Ω–µ—Ä–∏–µ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ê—Ö–∏–º–µ–Ω–µ–∑", "–≠–ø–∏—Å—Ü–∏—è", "–°–µ–Ω–ø–æ–ª–∏—è", "–§–∏–∞–ª–∫–∞", "–≠—Å—Ö–∏–Ω–∞–Ω—Ç—É—Å", "–ù–µ–º–∞—Ç–∞–Ω—Ç—É—Å"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–¢–æ—Ä—Ñ", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 25}
    ]
  },
  
  "–ë–æ–±–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ë–∞—É—Ö–∏–Ω–∏—è", "–≠—Ä–∏—Ç—Ä–∏–Ω–∞"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 60},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20}
    ]
  },
  
  "–ê—Å—Ç—Ä–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ì–∏–Ω—É—Ä–∞", "–ö—Ä–µ—Å—Ç–æ–≤–Ω–∏–∫"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20}
    ]
  },
  
  "–ù–∏–∫—Ç–∞–≥–∏–Ω–æ–≤—ã–µ": {
    "—Ä–∞—Å—Ç–µ–Ω–∏—è": ["–ë—É–≥–µ–Ω–≤–∏–ª–ª–∏—è"],
    "—Å–æ—Å—Ç–∞–≤": [
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–î–µ—Ä–Ω–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 50},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–õ–∏—Å—Ç–æ–≤–∞—è –∑–µ–º–ª—è", "–ø—Ä–æ—Ü–µ–Ω—Ç": 30},
      {"–∫–æ–º–ø–æ–Ω–µ–Ω—Ç": "–ü–µ—Å–æ–∫", "–ø—Ä–æ—Ü–µ–Ω—Ç": 20}
    ]
  }
};

// –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
const KEYWORDS = {
  // –ö–æ–º–∞–Ω–¥—ã
  '–ø–æ–º–æ—â—å': '–ø–æ–º–æ—â—å', '‚ùì': '–ø–æ–º–æ—â—å', 'help': '–ø–æ–º–æ—â—å', '–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è': '–ø–æ–º–æ—â—å',
  '–≤—Å–µ —Ä–∞—Å—Ç–µ–Ω–∏—è': '–≤—Å–µ_—Ä–∞—Å—Ç–µ–Ω–∏—è', 'üìã': '–≤—Å–µ_—Ä–∞—Å—Ç–µ–Ω–∏—è', '—Å–ø–∏—Å–æ–∫': '–≤—Å–µ_—Ä–∞—Å—Ç–µ–Ω–∏—è',
  '–æ —Å–æ–∑–¥–∞—Ç–µ–ª–µ': '–æ_—Å–æ–∑–¥–∞—Ç–µ–ª–µ', '—Å–æ–∑–¥–∞—Ç–µ–ª': '–æ_—Å–æ–∑–¥–∞—Ç–µ–ª–µ', '–∞–≤—Ç–æ—Ä': '–æ_—Å–æ–∑–¥–∞—Ç–µ–ª–µ',
  
  // –û—Ä—Ö–∏–¥–Ω—ã–µ
  '–æ—Ä—Ö–∏–¥–µ—è': '–û—Ä—Ö–∏–¥–Ω—ã–µ', '—Ñ–∞–ª–µ–Ω–æ–ø—Å–∏—Å': '–û—Ä—Ö–∏–¥–Ω—ã–µ', '–≤–∞–Ω–¥–∞': '–û—Ä—Ö–∏–¥–Ω—ã–µ',
  '–¥–µ–Ω–¥—Ä–æ–±–∏—É–º': '–û—Ä—Ö–∏–¥–Ω—ã–µ', '—Ü–∏–º–±–∏–¥–∏—É–º': '–û—Ä—Ö–∏–¥–Ω—ã–µ', '–ø–∞—Ñ–∏–æ–ø–µ–¥–∏–ª—É–º': '–û—Ä—Ö–∏–¥–Ω—ã–µ',
  '–ª—É–¥–∏–∑–∏—è': '–û—Ä—Ö–∏–¥–Ω—ã–µ', '–æ–¥–æ–Ω—Ç–æ–≥–ª–æ—Å—Å—É–º': '–û—Ä—Ö–∏–¥–Ω—ã–µ',
  
  // –ê—Ä–æ–∏–¥–Ω—ã–µ
  '–º–æ–Ω—Å—Ç–µ—Ä–∞': '–ê—Ä–æ–∏–¥–Ω—ã–µ', '—Ñ–∏–ª–æ–¥–µ–Ω–¥—Ä–æ–Ω': '–ê—Ä–æ–∏–¥–Ω—ã–µ', '–∞–ª–æ–∫–∞–∑–∏—è': '–ê—Ä–æ–∏–¥–Ω—ã–µ',
  '–∞–Ω—Ç—É—Ä–∏—É–º': '–ê—Ä–æ–∏–¥–Ω—ã–µ', '–∑–∞–º–∏–æ–∫—É–ª—å–∫–∞—Å': '–ê—Ä–æ–∏–¥–Ω—ã–µ', '—Å–ø–∞—Ç–∏—Ñ–∏–ª–ª—É–º': '–ê—Ä–æ–∏–¥–Ω—ã–µ',
  '–¥–∏—Ñ—Ñ–µ–Ω–±–∞—Ö–∏—è': '–ê—Ä–æ–∏–¥–Ω—ã–µ', '–∞–≥–ª–∞–æ–Ω–µ–º–∞': '–ê—Ä–æ–∏–¥–Ω—ã–µ', '–∫–∞–ª–ª–∞': '–ê—Ä–æ–∏–¥–Ω—ã–µ',
  '—ç–ø–∏–ø—Ä–µ–º–Ω—É–º': '–ê—Ä–æ–∏–¥–Ω—ã–µ', '—Å—Ü–∏–Ω–¥–∞–ø—Ç—É—Å': '–ê—Ä–æ–∏–¥–Ω—ã–µ',
  
  // –ö–∞–∫—Ç—É—Å–æ–≤—ã–µ
  '–∫–∞–∫—Ç—É—Å': '–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ', '–æ–ø—É–Ω—Ü–∏—è': '–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ', '—ç–ø–∏—Ñ–∏–ª–ª—É–º': '–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ',
  '—à–ª—é–º–±–µ—Ä–≥–µ—Ä–∞': '–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ', '–¥–µ–∫–∞–±—Ä–∏—Å—Ç': '–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ', '–≥–∏–º–Ω–æ–∫–∞–ª–∏—Ü–∏—É–º': '–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ',
  '—Ö–∞—Ç–∏–æ—Ä–∞': '–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ', '—Ç—Ä–∏—Ö–æ—Ü–µ—Ä–µ—É—Å': '–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ', '–ø–µ—Ä–µ—Å–∫–∏—è': '–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ',
  '–≥–∏–ª–æ—Ü–µ—Ä–µ—É—Å': '–ö–∞–∫—Ç—É—Å–æ–≤—ã–µ',
  
  // –¢–æ–ª—Å—Ç—è–Ω–∫–æ–≤—ã–µ
  '—Ç–æ–ª—Å—Ç—è–Ω–∫–∞': '–¢–æ–ª—Å—Ç—è–Ω–∫–æ–≤—ã–µ', '–∫—Ä–∞—Å—Å—É–ª–∞': '–¢–æ–ª—Å—Ç—è–Ω–∫–æ–≤—ã–µ', '–∫–∞–ª–∞–Ω—Ö–æ—ç': '–¢–æ–ª—Å—Ç—è–Ω–∫–æ–≤—ã–µ',
  '—ç—Ö–µ–≤–µ—Ä–∏—è': '–¢–æ–ª—Å—Ç—è–Ω–∫–æ–≤—ã–µ', '—Å–µ–¥—É–º': '–¢–æ–ª—Å—Ç—è–Ω–∫–æ–≤—ã–µ', '—Å—É–∫–∫—É–ª–µ–Ω—Ç': '–¢–æ–ª—Å—Ç—è–Ω–∫–æ–≤—ã–µ',
  '–∞–∏—Ö—Ä–∏–∑–æ–Ω': '–¢–æ–ª—Å—Ç—è–Ω–∫–æ–≤—ã–µ', '—ç–æ–Ω–∏—É–º': '–¢–æ–ª—Å—Ç—è–Ω–∫–æ–≤—ã–µ',
  
  // –ú–∞–ª—å–≤–æ–≤—ã–µ
  '–≥–∏–±–∏—Å–∫—É—Å': '–ú–∞–ª—å–≤–æ–≤—ã–µ', '–∞–±—É—Ç–∏–ª–æ–Ω': '–ú–∞–ª—å–≤–æ–≤—ã–µ', '–ø–∞—Ö–∏—Ä–∞': '–ú–∞–ª—å–≤–æ–≤—ã–µ',
  
  // –ü–∞–ª—å–º–æ–≤—ã–µ
  '–ø–∞–ª—å–º–∞': '–ü–∞–ª—å–º–æ–≤—ã–µ', '–≤–∞—à–∏–Ω–≥—Ç–æ–Ω–∏—è': '–ü–∞–ª—å–º–æ–≤—ã–µ', '—Ñ–∏–Ω–∏–∫': '–ü–∞–ª—å–º–æ–≤—ã–µ',
  '–∫–∞–º–µ–¥–æ—Ä–µ—è': '–ü–∞–ª—å–º–æ–≤—ã–µ',
  
  // –ë–µ–≥–æ–Ω–∏–µ–≤—ã–µ
  '–±–µ–≥–æ–Ω–∏—è': '–ë–µ–≥–æ–Ω–∏–µ–≤—ã–µ',
  
  // –°–ø–∞—Ä–∂–µ–≤—ã–µ
  '–¥—Ä–∞—Ü–µ–Ω–∞': '–°–ø–∞—Ä–∂–µ–≤—ã–µ', '–∞—Å–ø–∏–¥–∞—Å—Ç—Ä–∞': '–°–ø–∞—Ä–∂–µ–≤—ã–µ', '—Å–∞–Ω—Å–µ–≤–∏–µ—Ä–∏—è': '–°–ø–∞—Ä–∂–µ–≤—ã–µ',
  '—Ç–µ—â–∏–Ω —è–∑—ã–∫': '–°–ø–∞—Ä–∂–µ–≤—ã–µ', '—â—É—á–∏–π —Ö–≤–æ—Å—Ç': '–°–ø–∞—Ä–∂–µ–≤—ã–µ', '–Ω–æ–ª–∏–Ω–∞': '–°–ø–∞—Ä–∂–µ–≤—ã–µ',
  '—Ö–ª–æ—Ä–æ—Ñ–∏—Ç—É–º': '–°–ø–∞—Ä–∂–µ–≤—ã–µ', '—é–∫–∫–∞': '–°–ø–∞—Ä–∂–µ–≤—ã–µ', '–∞–≥–∞–≤–∞': '–°–ø–∞—Ä–∂–µ–≤—ã–µ',
  
  // –¢—É—Ç–æ–≤—ã–µ
  '—Ñ–∏–∫—É—Å': '–¢—É—Ç–æ–≤—ã–µ',
  
  // –ú–∞—Ä–∞–Ω—Ç–æ–≤—ã–µ
  '–∫–∞–ª–∞—Ç–µ—è': '–ú–∞—Ä–∞–Ω—Ç–æ–≤—ã–µ', '–∫—Ç–µ–Ω–∞–Ω—Ç–∞': '–ú–∞—Ä–∞–Ω—Ç–æ–≤—ã–µ', '–º–∞—Ä–∞–Ω—Ç–∞': '–ú–∞—Ä–∞–Ω—Ç–æ–≤—ã–µ',
  
  // –ö—É—Ç—Ä–æ–≤—ã–µ
  '–∞–¥–µ–Ω–∏—É–º': '–ö—É—Ç—Ä–æ–≤—ã–µ', '–æ–ª–µ–∞–Ω–¥—Ä': '–ö—É—Ç—Ä–æ–≤—ã–µ', '–ø–ª—é–º–µ—Ä–∏—è': '–ö—É—Ç—Ä–æ–≤—ã–µ',
  '–º–∞–Ω–¥–µ–≤–∏–ª–ª–∞': '–ö—É—Ç—Ä–æ–≤—ã–µ', '—Ö–æ–π—è': '–ö—É—Ç—Ä–æ–≤—ã–µ', '—Å–∏–Ω–∞–¥–µ–Ω–∏—É–º': '–ö—É—Ç—Ä–æ–≤—ã–µ',
  
  // –ü–∞—Å–ª–µ–Ω–æ–≤—ã–µ
  '–±—Ä—É–≥–º–∞–Ω—Å–∏—è': '–ü–∞—Å–ª–µ–Ω–æ–≤—ã–µ', '–ø–∞—Å–ª–µ–Ω': '–ü–∞—Å–ª–µ–Ω–æ–≤—ã–µ', '–ø–µ–ø–∏–Ω–æ': '–ü–∞—Å–ª–µ–Ω–æ–≤—ã–µ',
  '—Å–æ–ª–∞–Ω–¥—Ä–∞': '–ü–∞—Å–ª–µ–Ω–æ–≤—ã–µ', '—Ç–∞–º–∞—Ä–∏–ª–ª–æ': '–ü–∞—Å–ª–µ–Ω–æ–≤—ã–µ',
  
  // –ì–µ—Ä–∞–Ω–∏–µ–≤—ã–µ
  '–ø–µ–ª–∞—Ä–≥–æ–Ω–∏—è': '–ì–µ—Ä–∞–Ω–∏–µ–≤—ã–µ', '–≥–µ—Ä–∞–Ω—å': '–ì–µ—Ä–∞–Ω–∏–µ–≤—ã–µ',
  
  // –ú–æ–ª–æ—á–∞–π–Ω—ã–µ
  '–º–æ–ª–æ—á–∞–π': '–ú–æ–ª–æ—á–∞–π–Ω—ã–µ', '–ø–µ–¥–∏–ª–∞–Ω—Ç—É—Å': '–ú–æ–ª–æ—á–∞–π–Ω—ã–µ', '–∫—Ä–æ—Ç–æ–Ω': '–ú–æ–ª–æ—á–∞–π–Ω—ã–µ',
  '–∫–æ–¥–∏–µ—É–º': '–ú–æ–ª–æ—á–∞–π–Ω—ã–µ',
  
  // –ê–∫–∞–Ω—Ç–æ–≤—ã–µ
  '—Ñ–∏—Ç—Ç–æ–Ω–∏—è': '–ê–∫–∞–Ω—Ç–æ–≤—ã–µ', '—Ç—É–Ω–±–µ—Ä–≥–∏—è': '–ê–∫–∞–Ω—Ç–æ–≤—ã–µ', '–∫—Ä–æ—Å–∞–Ω–¥—Ä–∞': '–ê–∫–∞–Ω—Ç–æ–≤—ã–µ',
  
  // –ö–æ–º–º–µ–ª–∏–Ω–æ–≤—ã–µ
  '—Ç—Ä–∞–¥–µ—Å–∫–∞–Ω—Ü–∏—è': '–ö–æ–º–º–µ–ª–∏–Ω–æ–≤—ã–µ', '–∫–∞–ª–ª–∏–∑–∏—è': '–ö–æ–º–º–µ–ª–∏–Ω–æ–≤—ã–µ', '—Ä–µ–æ': '–ö–æ–º–º–µ–ª–∏–Ω–æ–≤—ã–µ',
  '–∑–µ–±—Ä–∏–Ω–∞': '–ö–æ–º–º–µ–ª–∏–Ω–æ–≤—ã–µ', '–º—É—Ä–¥–∞–Ω–Ω–∏—è': '–ö–æ–º–º–µ–ª–∏–Ω–æ–≤—ã–µ',
  
  // –ê—Å—Ñ–æ–¥–µ–ª–æ–≤—ã–µ
  '–∞–ª–æ—ç': '–ê—Å—Ñ–æ–¥–µ–ª–æ–≤—ã–µ', '–≥–∞—Å—Ç–µ—Ä–∏—è': '–ê—Å—Ñ–æ–¥–µ–ª–æ–≤—ã–µ', '—Ö–∞–≤–æ—Ä—Ç–∏—è': '–ê—Å—Ñ–æ–¥–µ–ª–æ–≤—ã–µ',
  
  // –ë—Ä–æ–º–µ–ª–∏–µ–≤—ã–µ
  '–∞–Ω–∞–Ω–∞—Å': '–ë—Ä–æ–º–µ–ª–∏–µ–≤—ã–µ', '—Ç–∏–ª–ª–∞–Ω–¥—Å–∏—è': '–ë—Ä–æ–º–µ–ª–∏–µ–≤—ã–µ',
  
  // –†—É—Ç–æ–≤—ã–µ
  '–ª–∏–º–æ–Ω': '–†—É—Ç–æ–≤—ã–µ', '–∫–∞–ª–∞–º–æ–Ω–¥–∏–Ω': '–†—É—Ç–æ–≤—ã–µ', '–º—É—Ä—Ä–∞–π—è': '–†—É—Ç–æ–≤—ã–µ',
  '–ª–∞–π–º': '–†—É—Ç–æ–≤—ã–µ',
  
  // –Ø—Å–Ω–æ—Ç–∫–æ–≤—ã–µ
  '–∫–æ–ª–µ—É—Å': '–Ø—Å–Ω–æ—Ç–∫–æ–≤—ã–µ', '—Ä–æ–∑–º–∞—Ä–∏–Ω': '–Ø—Å–Ω–æ—Ç–∫–æ–≤—ã–µ', '–±–∞–∑–∏–ª–∏–∫': '–Ø—Å–Ω–æ—Ç–∫–æ–≤—ã–µ',
  '—à–∞–ª—Ñ–µ–π': '–Ø—Å–Ω–æ—Ç–∫–æ–≤—ã–µ', '–º—è—Ç–∞': '–Ø—Å–Ω–æ—Ç–∫–æ–≤—ã–µ', '–∫–ª–µ—Ä–æ–¥–µ–Ω–¥—Ä—É–º': '–Ø—Å–Ω–æ—Ç–∫–æ–≤—ã–µ',
  
  // –ì–µ—Å–Ω–µ—Ä–∏–µ–≤—ã–µ
  '–∞—Ö–∏–º–µ–Ω–µ–∑': '–ì–µ—Å–Ω–µ—Ä–∏–µ–≤—ã–µ', '—ç–ø–∏—Å—Ü–∏—è': '–ì–µ—Å–Ω–µ—Ä–∏–µ–≤—ã–µ', '—Å–µ–Ω–ø–æ–ª–∏—è': '–ì–µ—Å–Ω–µ—Ä–∏–µ–≤—ã–µ',
  '—Ñ–∏–∞–ª–∫–∞': '–ì–µ—Å–Ω–µ—Ä–∏–µ–≤—ã–µ', '—ç—Å—Ö–∏–Ω–∞–Ω—Ç—É—Å': '–ì–µ—Å–Ω–µ—Ä–∏–µ–≤—ã–µ', '–Ω–µ–º–∞—Ç–∞–Ω—Ç—É—Å': '–ì–µ—Å–Ω–µ—Ä–∏–µ–≤—ã–µ',
  
  // –ë–æ–±–æ–≤—ã–µ
  '–±–∞—É—Ö–∏–Ω–∏—è': '–ë–æ–±–æ–≤—ã–µ', '—ç—Ä–∏—Ç—Ä–∏–Ω–∞': '–ë–æ–±–æ–≤—ã–µ',
  
  // –ê—Å—Ç—Ä–æ–≤—ã–µ
  '–≥–∏–Ω—É—Ä–∞': '–ê—Å—Ç—Ä–æ–≤—ã–µ', '–∫—Ä–µ—Å—Ç–æ–≤–Ω–∏–∫': '–ê—Å—Ç—Ä–æ–≤—ã–µ',
  
  // –ù–∏–∫—Ç–∞–≥–∏–Ω–æ–≤—ã–µ
  '–±—É–≥–µ–Ω–≤–∏–ª–ª–∏—è': '–ù–∏–∫—Ç–∞–≥–∏–Ω–æ–≤—ã–µ'
};

// –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
async function sendMessage(chatId, text, parseMode = 'HTML', replyMarkup = null) {
  const url = `${TELEGRAM_API}/sendMessage`;
  
  const body = {
    chat_id: chatId,
    text: text,
    parse_mode: parseMode
  };
  
  if (replyMarkup) {
    body.reply_markup = replyMarkup;
  }
  
  try {
    const response = await fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(body)
    });
    
    return await response.json();
  } catch (error) {
    console.error('Send message error:', error);
    return { ok: false, error: error.message };
  }
}

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞
function formatRecipe(family, recipe) {
  let message = `<b>üå± –ì–†–£–ù–¢ –î–õ–Ø ${family.toUpperCase()}</b>\n\n`;
  
  if (recipe.—Ä–∞—Å—Ç–µ–Ω–∏—è && recipe.—Ä–∞—Å—Ç–µ–Ω–∏—è.length > 0) {
    const plants = recipe.—Ä–∞—Å—Ç–µ–Ω–∏—è.slice(0, 5).join(', ');
    message += `<i>–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è: ${plants}${recipe.—Ä–∞—Å—Ç–µ–Ω–∏—è.length > 5 ? '...' : ''}</i>\n\n`;
  }
  
  message += `<b>üìä –°–û–°–¢–ê–í –°–£–ë–°–¢–†–ê–¢–ê:</b>\n`;
  recipe.—Å–æ—Å—Ç–∞–≤.forEach(item => {
    message += `‚Ä¢ ${item.–∫–æ–º–ø–æ–Ω–µ–Ω—Ç} ‚Äî <b>${item.–ø—Ä–æ—Ü–µ–Ω—Ç}%</b>\n`;
  });
  
  if (recipe.—Å–æ–≤–µ—Ç—ã && recipe.—Å–æ–≤–µ—Ç—ã.length > 0) {
    message += `\n<b>üí° –°–û–í–ï–¢–´ –ü–û –£–•–û–î–£:</b>\n`;
    recipe.—Å–æ–≤–µ—Ç—ã.forEach(tip => {
      message += `${tip}\n`;
    });
  }
  
  message += `\n<i>üìö –ù–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π —Å–µ–º–µ–π—Å—Ç–≤–∞ —Ä–∞—Å—Ç–µ–Ω–∏–π</i>`;
  
  return message;
}

// –ü–æ–∏—Å–∫ —Å–µ–º–µ–π—Å—Ç–≤–∞
function findFamily(text) {
  const lowerText = text.toLowerCase().trim();
  
  // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
  if (lowerText.includes('–ø–æ–º–æ—â—å') || lowerText.includes('‚ùì')) return '–ø–æ–º–æ—â—å';
  if (lowerText.includes('–≤—Å–µ —Ä–∞—Å—Ç–µ–Ω–∏—è') || lowerText.includes('üìã')) return '–≤—Å–µ_—Ä–∞—Å—Ç–µ–Ω–∏—è';
  if (lowerText.includes('–æ —Å–æ–∑–¥–∞—Ç–µ–ª–µ') || lowerText.includes('—Å–æ–∑–¥–∞—Ç–µ–ª') || lowerText.includes('–∞–≤—Ç–æ—Ä')) return '–æ_—Å–æ–∑–¥–∞—Ç–µ–ª–µ';
  
  // –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
  for (const [keyword, family] of Object.entries(KEYWORDS)) {
    if (lowerText.includes(keyword)) {
      if (SOIL_RECIPES[family] || ['–ø–æ–º–æ—â—å', '–≤—Å–µ_—Ä–∞—Å—Ç–µ–Ω–∏—è', '–æ_—Å–æ–∑–¥–∞—Ç–µ–ª–µ'].includes(family)) {
        return family;
      }
    }
  }
  
  // –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å–µ–º–µ–π—Å—Ç–≤–∞
  for (const family of Object.keys(SOIL_RECIPES)) {
    if (lowerText.includes(family.toLowerCase())) {
      return family;
    }
  }
  
  return null;
}

// –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
exports.handler = async function(event, context) {
  console.log('Method:', event.httpMethod);
  
  // GET –∑–∞–ø—Ä–æ—Å - —Å—Ç–∞—Ç—É—Å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  if (event.httpMethod === 'GET') {
    return {
      statusCode: 200,
      headers: { 'Content-Type': 'text/html' },
      body: `
        <html>
          <head>
            <title>üåø Plant Soil Bot</title>
            <style>
              body {
                font-family: Arial, sans-serif;
                max-width: 600px;
                margin: 50px auto;
                padding: 20px;
                background: linear-gradient(135deg, #f5f9f0 0%, #e8f4e8 100%);
              }
              .container {
                background: white;
                padding: 40px;
                border-radius: 20px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
              }
              h1 {
                color: #2e7d32;
                text-align: center;
              }
              .stats {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
                margin: 25px 0;
              }
              .stat {
                background: #f1f8e9;
                padding: 15px;
                border-radius: 10px;
                text-align: center;
              }
              .stat-number {
                font-size: 24px;
                font-weight: bold;
                color: #2e7d32;
              }
              .info {
                background: #e3f2fd;
                padding: 20px;
                border-radius: 10px;
                margin: 25px 0;
                text-align: center;
              }
              a {
                color: #2e7d32;
                text-decoration: none;
                font-weight: bold;
              }
              a:hover {
                text-decoration: underline;
              }
            </style>
          </head>
          <body>
            <div class="container">
              <h1>üåø Plant Soil Bot</h1>
              <div style="background: #4caf50; color: white; padding: 15px; border-radius: 10px; margin: 20px 0; text-align: center; font-weight: bold;">
                ‚úÖ –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
              </div>
              
              <div class="stats">
                <div class="stat">
                  <div class="stat-number">${Object.keys(SOIL_RECIPES).length}</div>
                  <div>–±–æ—Ç. —Å–µ–º–µ–π—Å—Ç–≤</div>
                </div>
                <div class="stat">
                  <div class="stat-number">120+</div>
                  <div>—Ä–∞—Å—Ç–µ–Ω–∏–π –≤ –±–∞–∑–µ</div>
                </div>
                <div class="stat">
                  <div class="stat-number">üîß</div>
                  <div>–ü–æ–¥–±–æ—Ä –≥—Ä—É–Ω—Ç–∞</div>
                </div>
                <div class="stat">
                  <div class="stat-number">üå±</div>
                  <div>–†–µ—Ü–µ–ø—Ç—ã —Å—É–±—Å—Ç—Ä–∞—Ç–æ–≤</div>
                </div>
              </div>
              
              <div class="info">
                <h3>ü§ñ –û –ë–û–¢–ï</h3>
                <p><strong>Plant Soil Bot</strong> –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≥—Ä—É–Ω—Ç –¥–ª—è –≤–∞—à–∏—Ö –∫–æ–º–Ω–∞—Ç–Ω—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π.</p>
                <p>–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è –≤ Telegram!</p>
              </div>
              
              <p><strong>ü§ñ –ë–æ—Ç –≤ Telegram:</strong> 
                <a href="https://t.me/plant_soil_bot" target="_blank">@plant_soil_bot</a>
              </p>
              
              <p><strong>üìù –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</strong></p>
              <ul>
                <li>–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–æ—Ä—Ö–∏–¥–µ—è", "–º–æ–Ω—Å—Ç–µ—Ä–∞")</li>
                <li>–ù–∞–ø–∏—à–∏—Ç–µ "–ø–æ–º–æ—â—å" –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</li>
                <li>–ù–∞–ø–∏—à–∏—Ç–µ "–≤—Å–µ —Ä–∞—Å—Ç–µ–Ω–∏—è" –¥–ª—è —Å–ø–∏—Å–∫–∞</li>
                <li>–ù–∞–ø–∏—à–∏—Ç–µ "–æ —Å–æ–∑–¥–∞—Ç–µ–ª–µ" –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–≤—Ç–æ—Ä–µ</li>
              </ul>
              
              <hr>
              <p style="text-align: center; color: #666;">
                <small>Webhook –∞–∫—Ç–∏–≤–µ–Ω ‚Ä¢ –ë–∞–∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ‚Ä¢ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç</small>
              </p>
            </div>
          </body>
        </html>
      `
    };
  }
  
  // POST –∑–∞–ø—Ä–æ—Å –æ—Ç Telegram
  if (event.httpMethod === 'POST') {
    try {
      const update = JSON.parse(event.body);
      
      if (update.message) {
        const chatId = update.message.chat.id;
        const text = update.message.text || '';
        const firstName = update.message.from.first_name || '–¥—Ä—É–≥';
        
        const requestType = findFamily(text) || 'unknown';
        
        switch(requestType) {
          case '–ø–æ–º–æ—â—å':
            const helpText = `
<b>‚ùì –ü–û–ú–û–©–¨ –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ –ë–û–¢–ê</b>

<u>üå± <b>1. –ü–æ–¥–±–æ—Ä –≥—Ä—É–Ω—Ç–∞</b></u>
–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è:
‚Ä¢ "–æ—Ä—Ö–∏–¥–µ—è", "–∫—Ä–æ—Ç–æ–Ω", "–º–æ–Ω—Å—Ç–µ—Ä–∞"
‚Ä¢ "—Ñ–∏–∫—É—Å", "–∫–∞–∫—Ç—É—Å", "—Å—É–∫–∫—É–ª–µ–Ω—Ç"
‚Ä¢ "–±–µ–≥–æ–Ω–∏—è", "–¥—Ä–∞—Ü–µ–Ω–∞", "–≥–∏–±–∏—Å–∫—É—Å"

<u>üìã <b>2. –°–ø–∏—Å–æ–∫ —Ä–∞—Å—Ç–µ–Ω–∏–π</b></u>
–ù–∞–ø–∏—à–∏—Ç–µ "–≤—Å–µ —Ä–∞—Å—Ç–µ–Ω–∏—è"
‚Üí –£–≤–∏–¥–∏—Ç–µ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ–º–µ–π—Å—Ç–≤–∞

<u>üîß <b>3. –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã</b></u>
‚Ä¢ /start - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
‚Ä¢ –õ—é–±–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è - —Ä–µ—Ü–µ–ø—Ç –≥—Ä—É–Ω—Ç–∞
‚Ä¢ "–æ —Å–æ–∑–¥–∞—Ç–µ–ª–µ" - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ä–µ

<b>üìä –ë–ê–ó–ê –î–ê–ù–ù–´–•:</b>
‚Ä¢ ${Object.keys(SOIL_RECIPES).length} –±–æ—Ç–∞–Ω–∏—á–µ—Å–∫–∏—Ö —Å–µ–º–µ–π—Å—Ç–≤
‚Ä¢ –†–µ—Ü–µ–ø—Ç—ã –≥—Ä—É–Ω—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–º–µ–π—Å—Ç–≤–∞

<i>–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è! üåø</i>
            `;
            
            await sendMessage(chatId, helpText);
            break;
            
          case '–≤—Å–µ_—Ä–∞—Å—Ç–µ–Ω–∏—è':
            let familiesText = `<b>üåø –í–°–ï –°–ï–ú–ï–ô–°–¢–í–ê –†–ê–°–¢–ï–ù–ò–ô (${Object.keys(SOIL_RECIPES).length}):</b>\n\n`;
            
            Object.keys(SOIL_RECIPES).forEach((family, index) => {
              familiesText += `<b>${index + 1}. ${family}</b>\n`;
            });
            
            familiesText += '\n\n<i>–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è –∏–ª–∏ —Å–µ–º–µ–π—Å—Ç–≤–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞ –≥—Ä—É–Ω—Ç–∞</i>';
            
            // Inline –∫–Ω–æ–ø–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞
            const inlineKeyboard = [
              [
                { text: 'üå∫ –û—Ä—Ö–∏–¥–µ—è', callback_data: 'plant_–æ—Ä—Ö–∏–¥–µ—è' },
                { text: 'üåø –ú–æ–Ω—Å—Ç–µ—Ä–∞', callback_data: 'plant_–º–æ–Ω—Å—Ç–µ—Ä–∞' },
                { text: 'üçÅ –ö—Ä–æ—Ç–æ–Ω', callback_data: 'plant_–∫—Ä–æ—Ç–æ–Ω' }
              ],
              [
                { text: 'üåµ –ö–∞–∫—Ç—É—Å', callback_data: 'plant_–∫–∞–∫—Ç—É—Å' },
                { text: 'üå± –§–∏–∫—É—Å', callback_data: 'plant_—Ñ–∏–∫—É—Å' },
                { text: 'üçÉ –°—É–∫–∫—É–ª–µ–Ω—Ç', callback_data: 'plant_—Å—É–∫–∫—É–ª–µ–Ω—Ç' }
              ],
              [
                { text: '‚ùì –ü–æ–º–æ—â—å', callback_data: 'help' },
                { text: 'üë®‚Äçüåæ –û —Å–æ–∑–¥–∞—Ç–µ–ª–µ', callback_data: 'about_creator' }
              ]
            ];
            
            await sendMessage(chatId, familiesText, 'HTML', {
              inline_keyboard: inlineKeyboard
            });
            break;
            
          case '–æ_—Å–æ–∑–¥–∞—Ç–µ–ª–µ':
            const aboutText = `
<b>üë®‚Äçüåæ –û –°–û–ó–î–ê–¢–ï–õ–ï –ë–û–¢–ê</b>

–ü—Ä–∏–≤–µ—Ç! –Ø —Å–æ–∑–¥–∞–ª —ç—Ç–æ—Ç –±–æ—Ç–∞ —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –ª—é–±–∏—Ç–µ–ª—è–º —Ä–∞—Å—Ç–µ–Ω–∏–π –ø–æ–¥–±–∏—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≥—Ä—É–Ω—Ç.

<b>üåø –û –ø—Ä–æ–µ–∫—Ç–µ:</b>
‚Ä¢ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç ${Object.keys(SOIL_RECIPES).length} –±–æ—Ç–∞–Ω–∏—á–µ—Å–∫–∏—Ö —Å–µ–º–µ–π—Å—Ç–≤
‚Ä¢ –í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
‚Ä¢ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã

<b>üí° –¶–µ–ª—å:</b>
–ü–æ–º–æ—á—å –≤–∞—à–∏–º —Ä–∞—Å—Ç–µ–Ω–∏—è–º —Ä–∞—Å—Ç–∏ –∑–¥–æ—Ä–æ–≤—ã–º–∏ –∏ –∫—Ä–∞—Å–∏–≤—ã–º–∏!

<i>–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –±–æ—Ç–∞ - –ø–∏—à–∏—Ç–µ!</i>
            `;
            
            const aboutKeyboard = {
              inline_keyboard: [
                [
                  { text: 'üåø –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π', callback_data: 'all_plants' },
                  { text: '‚ùì –ü–æ–º–æ—â—å', callback_data: 'help' }
                ]
              ]
            };
            
            await sendMessage(chatId, aboutText, 'HTML', aboutKeyboard);
            break;
            
          case 'unknown':
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–º–∞–Ω–¥—É /start
            if (text.startsWith('/')) {
              const command = text.toLowerCase();
              
              if (command === '/start' || command.includes('/start')) {
                const welcomeText = `
<b>üåø –î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨, ${firstName.toUpperCase()}!</b>

–Ø ‚Äî <b>Plant Soil Bot</b> ü§ñ
–ë–æ—Ç –¥–ª—è –ø–æ–¥–±–æ—Ä–∞ –≥—Ä—É–Ω—Ç–∞ –¥–ª—è –∫–æ–º–Ω–∞—Ç–Ω—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π

<b>üìö –ß–¢–û –Ø –£–ú–ï–Æ:</b>

<u>1. üå± –ü–æ–¥–±–æ—Ä –≥—Ä—É–Ω—Ç–∞</u>
   –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è
   ‚Üí –ü–æ–ª—É—á—É —Ç–æ—á–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç —Å—É–±—Å—Ç—Ä–∞—Ç–∞
   <i>–ü—Ä–∏–º–µ—Ä: "–æ—Ä—Ö–∏–¥–µ—è", "–∫—Ä–æ—Ç–æ–Ω", "–º–æ–Ω—Å—Ç–µ—Ä–∞"</i>

<u>2. üìã –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π</u>
   ${Object.keys(SOIL_RECIPES).length} —Å–µ–º–µ–π—Å—Ç–≤ —Ä–∞—Å—Ç–µ–Ω–∏–π
   120+ —Ä–∞—Å—Ç–µ–Ω–∏–π –≤ –±–∞–∑–µ

<u>3. üë®‚Äçüåæ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</u>
   –ù–∞–ø–∏—à–∏—Ç–µ "–æ —Å–æ–∑–¥–∞—Ç–µ–ª–µ"
   ‚Üí –£–∑–Ω–∞–µ—Ç–µ –ø—Ä–æ —Å–æ–∑–¥–∞—Ç–µ–ª—è –±–æ—Ç–∞

<b>üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢:</b>
–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è!
–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ üëá
                `;
                
                // –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
                const welcomeKeyboard = {
                  inline_keyboard: [
                    [
                      { text: 'üå∫ –û—Ä—Ö–∏–¥–µ—è', callback_data: 'plant_–æ—Ä—Ö–∏–¥–µ—è' },
                      { text: 'üåø –ú–æ–Ω—Å—Ç–µ—Ä–∞', callback_data: 'plant_–º–æ–Ω—Å—Ç–µ—Ä–∞' },
                      { text: 'üçÅ –ö—Ä–æ—Ç–æ–Ω', callback_data: 'plant_–∫—Ä–æ—Ç–æ–Ω' }
                    ],
                    [
                      { text: 'üåµ –ö–∞–∫—Ç—É—Å', callback_data: 'plant_–∫–∞–∫—Ç—É—Å' },
                      { text: 'üå± –§–∏–∫—É—Å', callback_data: 'plant_—Ñ–∏–∫—É—Å' },
                      { text: 'üçÉ –°—É–∫–∫—É–ª–µ–Ω—Ç', callback_data: 'plant_—Å—É–∫–∫—É–ª–µ–Ω—Ç' }
                    ],
                    [
                      { text: 'üìã –í—Å–µ —Ä–∞—Å—Ç–µ–Ω–∏—è', callback_data: 'all_plants' },
                      { text: '‚ùì –ü–æ–º–æ—â—å', callback_data: 'help' }
                    ],
                    [
                      { text: 'üë®‚Äçüåæ –û —Å–æ–∑–¥–∞—Ç–µ–ª–µ', callback_data: 'about_creator' }
                    ]
                  ]
                };
                
                await sendMessage(chatId, welcomeText, 'HTML', welcomeKeyboard);
                break;
              }
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ—Ç —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è
            const family = findFamily(text);
            
            if (family && SOIL_RECIPES[family]) {
              // –ù–∞—à–ª–∏ —Ä–µ—Ü–µ–ø—Ç
              const recipe = SOIL_RECIPES[family];
              const response = formatRecipe(family, recipe);
              
              await sendMessage(chatId, response);
            } else {
              // –ù–µ –Ω–∞—à–ª–∏ —Ä–∞—Å—Ç–µ–Ω–∏–µ
              const notFoundText = `
<b>üîç –†–ê–°–¢–ï–ù–ò–ï –ù–ï –ù–ê–ô–î–ï–ù–û</b>

–Ø –Ω–µ –Ω–∞—à–µ–ª "<i>${text}</i>" –≤ —Å–≤–æ–µ–π –±–∞–∑–µ.

<b>üìù –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ç–∞–∫:</b>
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –≤–Ω–∏–∑—É
‚Ä¢ –ù–∞–ø–∏—à–∏—Ç–µ –æ–±—â–µ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ (–æ—Ä—Ö–∏–¥–µ—è, –∫–∞–∫—Ç—É—Å, —Ñ–∏–∫—É—Å)

<b>üå± –ò–ª–∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:</b>
‚Ä¢ –û—Ä—Ö–∏–¥–µ—è
‚Ä¢ –ú–æ–Ω—Å—Ç–µ—Ä–∞
‚Ä¢ –§–∏–∫—É—Å
‚Ä¢ –ö–∞–∫—Ç—É—Å
‚Ä¢ –°—É–∫–∫—É–ª–µ–Ω—Ç
‚Ä¢ –î—Ä–∞—Ü–µ–Ω–∞
‚Ä¢ –ë–µ–≥–æ–Ω–∏—è
‚Ä¢ –ö—Ä–æ—Ç–æ–Ω
‚Ä¢ –ì–∏–±–∏—Å–∫—É—Å
‚Ä¢ –ü–∞–ª—å–º–∞

<i>–í—Å–µ —ç—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç!</i>
              `;
              
              const notFoundKeyboard = {
                inline_keyboard: [
                  [
                    { text: 'üåø –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ä–∞—Å—Ç–µ–Ω–∏—è', callback_data: 'popular_plants' }
                  ],
                  [
                    { text: 'üìã –í—Å–µ —Ä–∞—Å—Ç–µ–Ω–∏—è', callback_data: 'all_plants' },
                    { text: '‚ùì –ü–æ–º–æ—â—å', callback_data: 'help' }
                  ]
                ]
              };
              
              await sendMessage(chatId, notFoundText, 'HTML', notFoundKeyboard);
            }
            break;
            
          default:
            // –ï—Å–ª–∏ –Ω–∞—à–ª–∏ —Ä–∞—Å—Ç–µ–Ω–∏–µ
            if (SOIL_RECIPES[requestType]) {
              const recipe = SOIL_RECIPES[requestType];
              const response = formatRecipe(requestType, recipe);
              
              await sendMessage(chatId, response);
            }
        }
      }
      
      // –û–±—Ä–∞–±–æ—Ç–∫–∞ callback_query –æ—Ç inline –∫–Ω–æ–ø–æ–∫
      if (update.callback_query) {
        const chatId = update.callback_query.from.id;
        const data = update.callback_query.data;
        const messageId = update.callback_query.message.message_id;
        
        // –û—Ç–≤–µ—Ç –Ω–∞ callback_query (—É–±–∏—Ä–∞–µ–º —á–∞—Å–∏–∫–∏)
        await fetch(`${TELEGRAM_API}/answerCallbackQuery`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            callback_query_id: update.callback_query.id
          })
        });
        
        if (data.startsWith('plant_')) {
          const plantName = data.replace('plant_', '');
          const family = findFamily(plantName);
          
          if (family && SOIL_RECIPES[family]) {
            const recipe = SOIL_RECIPES[family];
            const response = formatRecipe(family, recipe);
            
            await sendMessage(chatId, response);
          }
          
        } else if (data === 'help') {
          const helpText = `
<b>‚ùì –ü–û–ú–û–©–¨ –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ –ë–û–¢–ê</b>

–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞—Å—Ç–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä:
‚Ä¢ "–æ—Ä—Ö–∏–¥–µ—è", "–∫—Ä–æ—Ç–æ–Ω", "–º–æ–Ω—Å—Ç–µ—Ä–∞"
‚Ä¢ "—Ñ–∏–∫—É—Å", "–∫–∞–∫—Ç—É—Å", "—Å—É–∫–∫—É–ª–µ–Ω—Ç"

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã:
‚Ä¢ "–≤—Å–µ —Ä–∞—Å—Ç–µ–Ω–∏—è" - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ–º–µ–π—Å—Ç–≤
‚Ä¢ "–æ —Å–æ–∑–¥–∞—Ç–µ–ª–µ" - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ä–µ
‚Ä¢ "–ø–æ–º–æ—â—å" - —ç—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

<i>–ë–∞–∑–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç ${Object.keys(SOIL_RECIPES).length} –±–æ—Ç–∞–Ω–∏—á–µ—Å–∫–∏—Ö —Å–µ–º–µ–π—Å—Ç–≤</i>
          `;
          
          await sendMessage(chatId, helpText);
          
        } else if (data === 'about_creator') {
          const aboutText = `
<b>üë®‚Äçüåæ –û –°–û–ó–î–ê–¢–ï–õ–ï –ë–û–¢–ê</b>

–ë–æ—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –ø–æ–º–æ—â–∏ –ª—é–±–∏—Ç–µ–ª—è–º –∫–æ–º–Ω–∞—Ç–Ω—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π.

<b>üåø –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:</b>
‚Ä¢ –ü—Ä–æ—Å—Ç–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è –±–∞–∑–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤
‚Ä¢ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–∞–≤—ã –≥—Ä—É–Ω—Ç–æ–≤
‚Ä¢ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

<i>–ù–∞–¥–µ—é—Å—å, –±–æ—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞—à–∏–º —Ä–∞—Å—Ç–µ–Ω–∏—è–º!</i>
          `;
          
          await sendMessage(chatId, aboutText);
          
        } else if (data === 'all_plants' || data === 'popular_plants') {
          // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –∫–æ–º–∞–Ω–¥—É "–≤—Å–µ —Ä–∞—Å—Ç–µ–Ω–∏—è"
          const allPlantsText = `–ù–∞–ø–∏—à–∏—Ç–µ "–≤—Å–µ —Ä–∞—Å—Ç–µ–Ω–∏—è" –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö —Å–µ–º–µ–π—Å—Ç–≤`;
          await sendMessage(chatId, allPlantsText);
        }
      }
      
      return {
        statusCode: 200,
        body: JSON.stringify({ ok: true })
      };
      
    } catch (error) {
      console.error('Error:', error);
      return {
        statusCode: 500,
        body: JSON.stringify({ error: error.message })
      };
    }
  }
  
  return {
    statusCode: 405,
    body: 'Method Not Allowed'
  };
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ webhook (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
async function setWebhook(webhookUrl) {
  const url = `${TELEGRAM_API}/setWebhook`;
  
  try {
    const response = await fetch(url, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        url: webhookUrl
      })
    });
    
    const result = await response.json();
    console.log('Webhook set result:', result);
    return result;
  } catch (error) {
    console.error('Set webhook error:', error);
    return { ok: false, error: error.message };
  }
}
